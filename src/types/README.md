# Типизация в проекте

## Известные проблемы

### Несоответствие типов User в разных модулях

В проекте существует несоответствие между типами `User` в модулях `src/types/auth.ts` и `src/types/user.ts`:

1. В `auth.ts`:

```typescript
export interface User {
  id: string;
  _id?: string; // Опциональное свойство
  name: string;
  email: string;
  login: string;
  password?: string;
  role: "admin" | "user";
}
```

2. В `user.ts`:

```typescript
export interface User {
  _id: string; // Обязательное свойство
  name: string;
  email: string;
  login: string;
  role: "user" | "admin";
}
```

Это создает проблемы при типизации, когда объекты между этими типами должны быть преобразованы друг в друга. Временное решение - явное преобразование типов с проверкой наличия свойств.

## План улучшения

1. **Краткосрочное решение**: Импорт типов с алиасами для избежания конфликтов:

```typescript
import { User as AuthUser } from "../../types/auth";
import { User as UserModel } from "../../types/user";
```

2. **Среднесрочное решение**: Унификация типов с использованием базового интерфейса и наследования.

3. **Долгосрочное решение**: Переосмысление типизации с созданием единого типа `User` и соответствующих расширений для разных контекстов.

## Рекомендации для разработчиков

1. При работе с типами пользователей следует явно указывать из какого модуля взят тип.
2. Всегда проверять наличие обязательных полей при преобразовании между типами, особенно полей `id` и `_id`.
3. Использовать проверки на undefined для полей, которые могут отсутствовать.
